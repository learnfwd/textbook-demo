asyncDefine("ch04-technical-02-backstage-01-the-avatar",function(){return function(){return"<article><section><h1 id=\"the-avatar\">The Avatar</h1>\n<h2 id=\"what-it-is\">What it is</h2>\n<p>The avatar is a backstage module that shows an animated character in the top-right corner of the textbook. The avatar has a number of moods (in this version: <em>angry</em>, <em>cheeky</em>, <em>happy</em>, <em>helpless</em>, <em>neutral</em>, <em>sad</em>, <em>smart</em>, <em>smile</em>, <em>uneasy</em>, <em>wink</em>) and it integrates with the notification system so that it shows different messages as speech bubbles.</p>\n<h2 id=\"how-to-use-for-developers-\">How to use (for developers)</h2>\n<p>The avatar is used using <code>App.trigger</code> message bus.</p>\n<script>var ex_1626723556 = Exercises.push(new Exercises.Textline(1626723556, '{\"name\":\"ch03_notif\"}'));\n</script><div id=\"ex_1626723556\" class=\"textline\"><div class=\"block\"><div id=\"ch03_notif_text\" class=\"input\"></div></div></div><script>Exercises.pop();</script><p><code id=\"angry\">App.trigger('avatar:mood', 'angry');</code></p><script>$('#angry').click(function(){\n  App.trigger('avatar:mood', 'angry');\n});\n</script><p><code id=\"cheeky\">App.trigger('avatar:mood', 'cheeky');</code></p><script>$('#cheeky').click(function(){\n  App.trigger('avatar:mood', 'cheeky');\n});\n</script><p><code id=\"happy\">App.trigger('avatar:mood', 'happy');</code></p><script>$('#happy').click(function(){\n  App.trigger('avatar:mood', 'happy');\n});\n</script><p><code id=\"helpless\">App.trigger('avatar:mood', 'helpless');</code></p><script>$('#helpless').click(function(){\n  App.trigger('avatar:mood', 'helpless');\n});\n</script><p><code id=\"neutral\">App.trigger('avatar:mood', 'neutral');</code></p><script>$('#neutral').click(function(){\n  App.trigger('avatar:mood', 'neutral');\n});\n</script><p><code id=\"sad\">App.trigger('avatar:mood', 'sad');</code></p><script>$('#sad').click(function(){\n  App.trigger('avatar:mood', 'sad');\n});\n</script><p><code id=\"smart\">App.trigger('avatar:mood', 'smart');</code></p><script>$('#smart').click(function(){\n  App.trigger('avatar:mood', 'smart');\n});\n</script><p><code id=\"smile\">App.trigger('avatar:mood', 'smile');</code></p><script>$('#smile').click(function(){\n  App.trigger('avatar:mood', 'smile');\n});\n</script><p><code id=\"uneasy\">App.trigger('avatar:mood', 'uneasy');</code></p><script>$('#uneasy').click(function(){\n  App.trigger('avatar:mood', 'uneasy');\n});\n</script><p><code id=\"wink\">App.trigger('avatar:mood', 'wink');</code></p><script>$('#wink').click(function(){\n  App.trigger('avatar:mood', 'wink');\n});\n</script><script>var $what = $('#ch03_notif_text').find('input')\n\n$what.keyup(function (e) {\n  if (e.keyCode == 13) {\n    App.trigger('avatar:mood', {mood: 'wink', message: $what.val(), icon:Â 'fa-pencil'});\n    $what.val('');\n  }\n});\n\n\n$('#sad').click(function(){\n  App.trigger('avatar:mood', 'sad');\n});\n\n$('#smart').click(function(){\n  App.trigger('avatar:mood', 'smart');\n});\n</script><h2 id=\"event-options\">Event options</h2>\n<pre><code>   window.App.trigger(&#39;avatar:mood&#39;, {\n      mood: &#39;sad&#39;,\n      message: &#39;This book was sooo sad!&#39;,\n      interval: 5000,\n      info: &#39;I am talking about Hector Marlot book&#39;,\n      sound: &#39;http://soundbible.com/grab.php?id=764&amp;type=mp3&#39;,\n      icon: &#39;fa-cloud-download&#39;\n   });</code></pre>\n<button id=\"cry\" class=\"btn btn-large btn-danger\">Cry! (with sound)</button><script>$('#cry').click(function () {\n    window.App.trigger('avatar:mood', {\n      mood: 'sad',\n      message: 'This book was sooo sad!',\n      interval: 5000,\n      info: 'I am talking about Hector Marlot book',\n      sound: 'http://soundbible.com/grab.php?id=764&type=mp3',\n      icon: 'fa-cloud-download'\n    });\n});\n</script><h2 id=\"looks-and-feels\">Looks and feels</h2>\n<p>The avatar look and feel is not included in the lfa-addon-backstage by default,\nbecause each textbook should have different images and behavior.</p>\n<p>Usually just some styling should be enough. Here is a copy &amp; paste ready snippet\nto get you started quickly (don&#39;t forget to have your own mood images):</p>\n<pre><code>  // // // // // //\n  //   Avatar !  //\n  // // // // // //\n\n  #rightbar-toggle\n    background-color: transparent;\n\n  .avatar-mood-neutral\n  .avatar-mood-happy\n  .avatar-mood-sad\n  .avatar-mood-smart\n  .avatar-mood-smile\n  .avatar-mood-angry\n  .avatar-mood-cheeky\n  .avatar-mood-helpless\n  .avatar-mood-sleeping\n  .avatar-mood-uneasy\n  .avatar-mood-wink\n\n    transition: all 0.3s ease\n    background-color: transparent;\n    background-size: contain;\n    background-repeat: no-repeat;\n\n  .avatar-mood-neutral\n    background-image: url(&#39;/images/avatar/neutral.png&#39;);\n\n  .avatar-mood-happy\n    background-image: url(&#39;/images/avatar/happy.png&#39;);\n    transform: translate(0px, -10px);\n\n  .avatar-mood-sad\n    background-image: url(&#39;/images/avatar/sad.png&#39;);\n    transform: translate(0px, 10px);\n\n  .avatar-mood-smart\n    background-image: url(&#39;/images/avatar/smart.png&#39;);\n    transform: scale(1.2);\n\n  .avatar-mood-smile\n    background-image: url(&#39;/images/avatar/smile.png&#39;);\n\n  .avatar-mood-angry\n    background-image: url(&#39;/images/avatar/angry.png&#39;);\n\n  .avatar-mood-cheeky\n    background-image: url(&#39;/images/avatar/cheeky.png&#39;);\n\n  .avatar-mood-helpless\n    background-image: url(&#39;/images/avatar/helpless.png&#39;);\n\n  .avatar-mood-sleeping\n    background-image: url(&#39;/images/avatar/sleeping.png&#39;);\n\n  .avatar-mood-uneasy\n    background-image: url(&#39;/images/avatar/uneasy.png&#39;);\n\n  .avatar-mood-wink\n    background-image: url(&#39;/images/avatar/wink.png&#39;);\n    transform: rotate(10deg);</code></pre>\n</section></article>"}});